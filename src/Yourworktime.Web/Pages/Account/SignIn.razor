@page "/account/signin"
@using Yourworktime.Web.Models
@inject NavigationManager navigationManager

<div class="form">
	<h2 class="title">Sign in</h2>
	
	<EditForm Model="@signInModel" OnValidSubmit="@RegisterUser">
		<DataAnnotationsValidator />
		<ValidationSummary />

		<div class="form-group">
			<label class="label">E-mail</label>
			<InputText id="email" class="form-control" type="email"  @bind-Value="@signInModel.Email"></InputText>
		</div>
		<div class="form-group">
			<label class="label">Password</label>
			<InputText id="password" class="form-control" type="password" @bind-Value="@signInModel.Password"></InputText>
		</div>
		<div class="form-group">
			<div class="d-flex justify-content-between">
				<div class="form-check">
					<input type="checkbox" class="form-check-input" @bind-value="@stayLoggedIn">
					<label class="label">Stay logged in</label>
				</div>
				<a href="/account/forgotpassword">Forgot password?</a>
			</div>
		</div>

		<div class="field" style="margin-bottom: 1em;">
			<div class="control">
				<button type="submit" class="btn btn-filled-light-blue btn-block">Sign In</button>
			</div>
		</div>

		@if (showSignInError)
		{
			<div class="alert alert-danger">
				Sorry, wrong username or password
			</div>
		}

		<div class="text-center">
			<p>Don't have an account? <a href="/account/signup">Sign Up</a></p>
		</div>
	</EditForm>
</div>

<div class="text-center">
	<p>Your data is safe with us: <a href="/security">Security</a> <a href="/privacy">Privacy</a></p>
</div>

@code {
	private SignInModel signInModel = new SignInModel();
	private bool showSignInError = false;
	private bool stayLoggedIn = false;

	private async Task RegisterUser()
	{
		// Register..
	}
}
